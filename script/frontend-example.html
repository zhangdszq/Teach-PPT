<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI PPTç”Ÿæˆå™¨ - æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #34495e;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        textarea {
            height: 200px;
            resize: vertical;
        }
        
        .btn {
            background: #3498db;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #2980b9;
        }
        
        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
            color: #7f8c8d;
        }
        
        .result {
            margin-top: 30px;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 5px;
            display: none;
        }
        
        .error {
            background: #e74c3c;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            display: none;
        }
        
        .success {
            background: #27ae60;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            display: none;
        }
        
        .slide-preview {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            background: white;
        }
        
        .slide-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .slide-content {
            color: #7f8c8d;
            font-size: 14px;
        }
        
        .json-viewer {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            max-height: 400px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ AI PPTç”Ÿæˆå™¨</h1>
        
        <form id="pptForm">
            <div class="form-group">
                <label for="subject">å­¦ç§‘:</label>
                <select id="subject" name="subject">
                    <option value="è‹±è¯­">è‹±è¯­</option>
                    <option value="æ•°å­¦">æ•°å­¦</option>
                    <option value="è¯­æ–‡">è¯­æ–‡</option>
                    <option value="ç§‘å­¦">ç§‘å­¦</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="gradeLevel">å¹´çº§:</label>
                <select id="gradeLevel" name="gradeLevel">
                    <option value="å¹¼å„¿å›­">å¹¼å„¿å›­</option>
                    <option value="å°å­¦">å°å­¦</option>
                    <option value="åˆä¸­">åˆä¸­</option>
                    <option value="é«˜ä¸­">é«˜ä¸­</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="outlineContent">è¯¾ç¨‹å¤§çº²å†…å®¹:</label>
                <textarea id="outlineContent" name="outlineContent" placeholder="è¯·è¾“å…¥è¯¾ç¨‹å¤§çº²å†…å®¹...">## ğŸ§  æ•™å­¦ç›®æ ‡ï¼ˆé€‚åˆ3-6å²ï¼‰

* è®¤è¯†å­—æ¯ A / B / C çš„å¤§å†™ä¸å°å†™
* å­¦ä¼šå­—æ¯å‘éŸ³ï¼š/Ã¦/ã€/b/ã€/k/
* ç†è§£å‘éŸ³ä¸å•è¯ä¹‹é—´çš„è”ç³»ï¼ˆè‡ªç„¶æ‹¼è¯»æ„è¯†ï¼‰
* åˆæ­¥è¿›è¡Œå­—æ¯éŸ³æ‹¼è¯»ï¼ˆåˆçº§æ°´å¹³ï¼‰

### ğŸŒŸ **Lesson 1: A a**

#### ğŸ“„ æ•™å­¦é¡µé¢ 1ï¼šå­—æ¯å½¢çŠ¶
* å±•ç¤ºå¤§å†™å’Œå°å†™ï¼š**A a**
* ç”»é¢å…ƒç´ ï¼šè‹¹æœæ ‘ä¸ŠæŒ‚ç€"A"ã€èš‚èšçˆ¬è¿‡"A"é€ å‹
* æŒ‡å¯¼è¯­ï¼š**"This is A. Big A, small a."**

#### ğŸ”Š æ•™å­¦é¡µé¢ 2ï¼šå­—æ¯éŸ³
* è¯­éŸ³æ¼”ç¤ºï¼š**"A says /Ã¦/, /Ã¦/, /Ã¦/."**
* éŸ³é¢‘åŠ¨ç”»ï¼šè€å¸ˆæŒ‡ç€"A"ï¼Œå°åŠ¨ç‰©é‡å¤å‘éŸ³ï¼ˆapple apple appleï¼‰

#### ğŸ–¼ï¸ æ•™å­¦é¡µé¢ 3ï¼šå­—æ¯Aå¼€å¤´å•è¯
* å›¾å¡ï¼š**A is for Apple, Ant, Alligator**
* è¯»éŸ³ç»ƒä¹ ï¼š**/Ã¦/ - p - l (apple)**ï¼Œå¼ºè°ƒé¦–éŸ³ /Ã¦/</textarea>
            </div>
            
            <button type="submit" class="btn" id="generateBtn">ğŸš€ ç”ŸæˆPPT</button>
        </form>
        
        <div class="loading" id="loading">
            <p>â³ æ­£åœ¨ç”ŸæˆPPTï¼Œè¯·ç¨å€™...</p>
        </div>
        
        <div class="error" id="error"></div>
        <div class="success" id="success"></div>
        
        <div class="result" id="result">
            <h3>ğŸ“Š ç”Ÿæˆç»“æœ</h3>
            <div id="pptInfo"></div>
            <div id="slidesPreview"></div>
            
            <h4>ğŸ” å®Œæ•´JSONæ•°æ®</h4>
            <div class="json-viewer" id="jsonViewer"></div>
        </div>
    </div>

    <script>
        document.getElementById('pptForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = {
                subject: formData.get('subject'),
                gradeLevel: formData.get('gradeLevel'),
                outlineContent: formData.get('outlineContent')
            };
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            document.getElementById('loading').style.display = 'block';
            document.getElementById('generateBtn').disabled = true;
            document.getElementById('error').style.display = 'none';
            document.getElementById('success').style.display = 'none';
            document.getElementById('result').style.display = 'none';
            
            try {
                console.log('ğŸ“¤ å‘é€PPTç”Ÿæˆè¯·æ±‚...', data);
                
                const response = await fetch('http://localhost:8080/api/ai/generate-ppt', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    showSuccess('âœ… PPTç”ŸæˆæˆåŠŸï¼');
                    displayResult(result.data);
                } else {
                    showError('âŒ ç”Ÿæˆå¤±è´¥: ' + (result.message || 'æœªçŸ¥é”™è¯¯'));
                }
                
            } catch (error) {
                console.error('è¯·æ±‚å¤±è´¥:', error);
                showError('âŒ è¯·æ±‚å¤±è´¥: ' + error.message + '\nè¯·ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ');
            } finally {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('generateBtn').disabled = false;
            }
        });
        
        function showError(message) {
            const errorDiv = document.getElementById('error');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }
        
        function showSuccess(message) {
            const successDiv = document.getElementById('success');
            successDiv.textContent = message;
            successDiv.style.display = 'block';
        }
        
        function displayResult(data) {
            const resultDiv = document.getElementById('result');
            const pptInfo = document.getElementById('pptInfo');
            const slidesPreview = document.getElementById('slidesPreview');
            const jsonViewer = document.getElementById('jsonViewer');
            
            // æ˜¾ç¤ºPPTåŸºæœ¬ä¿¡æ¯
            pptInfo.innerHTML = `
                <div class="slide-preview">
                    <div class="slide-title">ğŸ“‹ PPTåŸºæœ¬ä¿¡æ¯</div>
                    <div class="slide-content">
                        <p><strong>æ ‡é¢˜:</strong> ${data.pptStructure.title}</p>
                        <p><strong>å­¦ç§‘:</strong> ${data.pptStructure.subject}</p>
                        <p><strong>å¹´çº§:</strong> ${data.pptStructure.gradeLevel}</p>
                        <p><strong>æ€»é¡µæ•°:</strong> ${data.pptStructure.totalSlides}</p>
                        <p><strong>ä½¿ç”¨æ¨¡æ¿:</strong> ${data.pptStructure.templateName}</p>
                        <p><strong>ç”Ÿæˆæ—¶é—´:</strong> ${new Date(data.generatedAt).toLocaleString()}</p>
                    </div>
                </div>
            `;
            
            // æ˜¾ç¤ºå¹»ç¯ç‰‡é¢„è§ˆ
            if (data.pptStructure.slides) {
                let slidesHtml = '<h4>ğŸ“„ å¹»ç¯ç‰‡é¢„è§ˆ</h4>';
                data.pptStructure.slides.forEach(slide => {
                    slidesHtml += `
                        <div class="slide-preview">
                            <div class="slide-title">ç¬¬${slide.slideNumber}é¡µ: ${slide.layoutType}</div>
                            <div class="slide-content">
                                <p><strong>å…ƒç´ æ•°é‡:</strong> ${slide.elements ? slide.elements.length : 0}</p>
                                <p><strong>äº¤äº’å…ƒç´ :</strong> ${slide.interactiveElements ? slide.interactiveElements.length : 0}</p>
                                ${slide.elements ? slide.elements.map(el => 
                                    `<p>â€¢ ${el.type}: ${el.content || el.placeholder || 'å¾…å¡«å……'}</p>`
                                ).join('') : ''}
                            </div>
                        </div>
                    `;
                });
                slidesPreview.innerHTML = slidesHtml;
            }
            
            // æ˜¾ç¤ºå­¦ä¹ ç›®æ ‡
            if (data.knowledgePoints && data.knowledgePoints.learningObjectives) {
                pptInfo.innerHTML += `
                    <div class="slide-preview">
                        <div class="slide-title">ğŸ¯ å­¦ä¹ ç›®æ ‡</div>
                        <div class="slide-content">
                            ${data.knowledgePoints.learningObjectives.map((obj, index) => 
                                `<p>${index + 1}. ${obj}</p>`
                            ).join('')}
                        </div>
                    </div>
                `;
            }
            
            // æ˜¾ç¤ºå®Œæ•´JSON
            jsonViewer.textContent = JSON.stringify(data, null, 2);
            
            resultDiv.style.display = 'block';
        }
    </script>
</body>
</html>